<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>

<!-- Define the fragment with th:fragment -->
<aside class="sidebar" th:fragment="sidebar">
    <div class="sidebar-header">
        <img th:src="@{/images/logo-white.png}" alt="Polat Holding Logo" class="sidebar-main-logo">
    </div>
    <ul class="nav-menu">
        <!-- Check against the 'currentUrl' model attribute provided by GlobalControllerAdvice -->
        <li class="nav-item" th:classappend="${currentUrl == '/' or #strings.startsWith(currentUrl, '/dashboard')} ? 'active' : ''">
            <a th:href="@{/dashboard}">Dashboard</a>
        </li>
        <li class="nav-item" th:classappend="${#strings.startsWith(currentUrl, '/requests')} ? 'active' : ''">
            <a th:href="@{/requests/new}">New Request</a>
        </li>
        <li class="nav-item" th:classappend="${#strings.startsWith(currentUrl, '/approvals')} ? 'active' : ''">
            <a th:href="@{/approvals}">Approvals</a>
        </li>
        <li class="nav-item"><a href="#">Reports</a></li>
        <li class="nav-item"><a href="#">Admin</a></li>
    </ul>
</aside>

</body>
</html>